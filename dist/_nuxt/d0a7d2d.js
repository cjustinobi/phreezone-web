(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1078:function(e,t,n){"use strict";n.r(t);n(52),n(139),n(48),n(83),n(166),n(164),n(95);var r=n(27),o=void 0,l=[{title:"Full Name",dataIndex:"full_name",fixed:"left",width:110,scopedSlots:{customRender:"fullName",filterDropdown:"filterDropdown",filterIcon:"filterIcon"},onFilter:function(e,t){return t.full_name.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){o.searchInput.focus()}),0)}},{title:"Package",dataIndex:"package",scopedSlots:{customRender:"pkg"}},{title:"Sponsor ID",dataIndex:"referral"},{title:"Performance",dataIndex:"performance_amount",scopedSlots:{customRender:"performance"}},{title:"Agent",dataIndex:"agent_amount",scopedSlots:{customRender:"agent"}},{title:"Leadership",dataIndex:"leadership_amount",scopedSlots:{customRender:"leadership"}},{title:"Sponsor Shopping",dataIndex:"sponsor_shopping_amount",scopedSlots:{customRender:"sponsorShopping"}},{title:"Stream",dataIndex:"stream_amount",scopedSlots:{customRender:"stream"}},{title:"Share",dataIndex:"share_amount",scopedSlots:{customRender:"share_amount"}},{title:"Total",dataIndex:"total",scopedSlots:{customRender:"total"}},{title:"Actual Amount",dataIndex:"actualAmount",scopedSlots:{customRender:"actualAmount"}}],c={name:"commissions",layout:"dashboard",data:function(){return{columns:l,bonuses:"",week:"",userReferral:1==this.$auth.user.userType?"":this.$auth.user.referral,excelFields:{Fullname:"full_name",ID:"referral",AccountNumber:{field:"account_number",callback:function(e){return JSON.stringify(e)}},BankName:"bank_name",ActualAmount:"actualAmount"}}},methods:{getCommissions:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$post("admin/bonuses",{referral:e.userReferral,setWeek:e.week});case 2:(n=t.sent.data).length&&(e.bonuses=n.filter((function(e){return 0!=e.actualAmount})));case 4:case"end":return t.stop()}}),t)})))()},getWeekCommissions:function(){this.getCommissions()},setWeek:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("date");case 2:e.week=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},computed:{},mounted:function(){this.setWeek(),this.getCommissions()}},d=n(34),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-page-header",{attrs:{"sub-title":"All Commissions for week "+e.week}}),e._v(" "),n("a-row",[n("a-col",{attrs:{span:"6"}},[n("a-input",{staticStyle:{width:"188px","margin-bottom":"8px"},attrs:{placeholder:"Enter week number",min:"1",type:"number"},on:{change:e.getWeekCommissions},model:{value:e.week,callback:function(t){e.week=t},expression:"week"}})],1),e._v(" "),n("a-col",{attrs:{span:"6"}},[n("a-input",{staticStyle:{width:"188px","margin-bottom":"8px"},attrs:{placeholder:"Sponsor ID"},on:{change:function(t){return e.getWeekCommissions(e.week)}},model:{value:e.userReferral,callback:function(t){e.userReferral=t},expression:"userReferral"}})],1),e._v(" "),e.isAdmin?n("a-col",{attrs:{span:"6"}},[n("download-excel",{staticClass:"btn btn-primary",attrs:{data:e.bonuses,fields:e.excelFields,worksheet:"My Worksheet",name:"week-"+e.week+".xls"}},[e._v("\n          Download\n        ")])],1):e._e()],1),e._v(" "),e.bonuses?n("a-table",{attrs:{columns:e.columns,"data-source":e.bonuses,rowKey:function(e){return e.id},scroll:{x:1500,y:300},size:"small",pagination:{pageSize:50}},scopedSlots:e._u([{key:"filterDropdown",fn:function(t){var r=t.setSelectedKeys,o=t.selectedKeys,l=t.confirm,c=t.clearFilters,d=t.column;return n("div",{staticStyle:{padding:"8px"}},[n("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(t){return e.searchInput=t},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Search "+d.dataIndex,value:o[0]},on:{change:function(e){return r(e.target.value?[e.target.value]:[])},pressEnter:function(){return e.handleSearch(o,l,d.dataIndex)}}}),e._v(" "),n("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return e.handleSearch(o,l,d.dataIndex)}}},[e._v("\n          Search\n        ")]),e._v(" "),n("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return e.handleReset(c)}}},[e._v("\n          Reset\n        ")])],1)}},{key:"filterIcon",fn:function(e){return n("a-icon",{style:{color:e?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"fullName",fn:function(t,r){return n("span",{},[e._v(e._s(r.first_name)+" "+e._s(r.last_name))])}},{key:"paid",fn:function(t){return n("span",{},[n("a-tag",{attrs:{color:null==t?"volcano":"green"}},[e._v("\n        "+e._s(null==t?"Not Paid":"Paid")+"\n      ")])],1)}},{key:"pkg",fn:function(t,r){return r.package?n("span",{},[e._v(e._s(null==r.package.name?"N/P":r.package.name))]):n("span",[e._v("N/P")])}},{key:"agent",fn:function(t){return n("span",{},[e._v(e._s(null==t?0:t))])}},{key:"accumulative",fn:function(t){return n("span",{},[e._v(e._s(null==t?0:t))])}},{key:"performance",fn:function(t){return n("span",{},[e._v(e._s(null==t?0:t))])}},{key:"sponsorShopping",fn:function(t){return n("span",{},[e._v(e._s(null==t?0:t))])}},{key:"leadership",fn:function(t){return n("span",{},[e._v(e._s(null==t?0:t))])}},{key:"spillover",fn:function(t){return n("span",{},[e._v(e._s(null==t?0:t))])}},{key:"stream",fn:function(t){return n("span",{},[e._v(e._s(null==t?0:t))])}},{key:"share_amount",fn:function(t){return n("span",{},[e._v(e._s(null==t?0:t))])}},{key:"total",fn:function(t){return n("span",{},[n("b",[e._v(e._s(t))])])}},{key:"actualAmount",fn:function(t){return n("span",{},[n("b",[e._v(e._s(t))])])}}],null,!0)}):e._e()],1)}),[],!1,null,"1e0cdeea",null);t.default=component.exports}}]);