(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1043:function(e,t,r){"use strict";r(939)},1044:function(e,t,r){(t=r(45)(!1)).push([e.i,".mb[data-v-b3947aa8]{margin-bottom:10px}",""]),e.exports=t},1093:function(e,t,r){"use strict";r.r(t);r(95);var n=r(27),o={name:"settings",layout:"dashboard",components:{ChangePassword:r(954).default},data:function(){return{dollar:"",dollarRate:"",percentage:"",percentageRate:""}},methods:{updateDollarRate:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dollarRate){t.next=2;break}return t.abrupt("return",e.$message.error("Enter valid input"));case 2:e.$axios.$put("admin/dollarRate",{dollarRate:parseInt(e.dollarRate)})&&(e.getDollarRate(),e.dollarRate="",e.$message.success("Saved successfully"));case 4:case"end":return t.stop()}}),t)})))()},updatePercentageRate:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.percentageRate){t.next=2;break}return t.abrupt("return",e.$message.error("Enter valid input"));case 2:e.$axios.$put("admin/percentageRate",{percentageRate:e.percentageRate})&&(e.getPercentageRate(),e.percentageRate="",e.$message.success("Saved successfully"));case 4:case"end":return t.stop()}}),t)})))()},getDollarRate:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("admin/dollarRate");case 2:e.dollar=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},getPercentageRate:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("admin/percentageRate");case 2:e.percentage=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.getDollarRate(),this.getPercentageRate()}},c=(r(1043),r(34)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-page-header",{attrs:{"sub-title":"Settings"}}),e._v(" "),r("ChangePassword"),e._v(" "),e.isAdmin?r("div",[r("p",[e._v("Dollar Rate: "),r("b",[e._v(e._s(e.dollar))])]),e._v(" "),r("div",{staticClass:"mb"},[r("a-input",{staticStyle:{width:"200px"},attrs:{type:"number",placeholder:"Update dollar rate"},model:{value:e.dollarRate,callback:function(t){e.dollarRate=t},expression:"dollarRate"}}),e._v(" "),r("a-button",{attrs:{type:"primary"},on:{click:e.updateDollarRate}},[e._v("Update")])],1),e._v(" "),r("p",[e._v("Percentage Rate: "),r("b",[e._v(e._s(e.percentage))])]),e._v(" "),r("div",{staticClass:"mb"},[r("a-input",{staticStyle:{width:"200px"},attrs:{type:"number",placeholder:"Percentage rate"},model:{value:e.percentageRate,callback:function(t){e.percentageRate=t},expression:"percentageRate"}}),e._v(" "),r("a-button",{attrs:{type:"primary"},on:{click:e.updatePercentageRate}},[e._v("Update")])],1)]):e._e()],1)}),[],!1,null,"b3947aa8",null);t.default=component.exports;installComponents(component,{ChangePassword:r(954).default})},939:function(e,t,r){var content=r(1044);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(46).default)("00038dfc",content,!0,{sourceMap:!1})},954:function(e,t,r){"use strict";r.r(t);r(95);var n=r(27),o={name:"ChangePassword",data:function(){return{oldPass:"",newPass:"",loading:!1}},methods:{changePass:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$axios.$post("changePass/".concat(e.$auth.user.id),{newPass:e.newPass,oldPass:e.oldPass});case 3:if(r=t.sent,!r.success){t.next=10;break}return e.loading=!1,e.oldPass="",e.newPass="",t.abrupt("return",e.$message.success("Password changed successfully"));case 10:return e.loading=!1,t.abrupt("return",e.$message.error("Error occurred"));case 12:case"end":return t.stop()}}),t)})))()}}},c=r(34),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"form",attrs:{autocomplete:"off",role:"form"}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"old-pass"}},[e._v("Change Password")]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPass,expression:"oldPass"}],staticClass:"form-control",attrs:{id:"old-pass",placeholder:"Old Password"},domProps:{value:e.oldPass},on:{input:function(t){t.target.composing||(e.oldPass=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"col-md-6"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newPass,expression:"newPass"}],staticClass:"form-control",attrs:{id:"new-pass",placeholder:"New Password"},domProps:{value:e.newPass},on:{input:function(t){t.target.composing||(e.newPass=t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"form-group"},[r("a-button",{staticClass:"float-right",attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return t.preventDefault(),e.changePass(t)}}},[e._v("\n      Change Password\n    ")])],1)])}),[],!1,null,"7826e805",null);t.default=component.exports}}]);