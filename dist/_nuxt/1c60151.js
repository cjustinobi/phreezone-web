(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1077:function(e,t,n){"use strict";n.r(t);n(903),n(82),n(95);var r=n(27),o=[{title:"Name",dataIndex:"name"},{title:"Status",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"Action",scopedSlots:{customRender:"action"}}],c={name:"mainstream-categories",layout:"dashboard",data:function(){return{loading:!1,editMode:!1,categoryForm:!1,categoryId:"",columns:o,name:"",categories:""}},methods:{createCategory:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.name.length){t.next=2;break}return t.abrupt("return",e.$message.error("Enter Category name"));case 2:if(e.loading=!0,!e.editMode){t.next=9;break}return t.next=6,e.$axios.$put("admin/product-category/".concat(e.categoryId),{name:e.name});case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,e.$axios.$post("admin/product-category",{name:e.name});case 11:t.t0=t.sent;case 12:(n=t.t0).success&&(e.editMode?e.getCategories():e.categories.unshift(n.data),e.$message.success("Successfully updated"),e.reset());case 14:case"end":return t.stop()}}),t)})))()},disableEnableCategory:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$axios.$put("admin/product-category-disable-enable/".concat(e.id),{status:!e.status});case 2:(r=n.sent).success&&(o=t.categories.findIndex((function(t){return t.id==e.id})),t.categories[o].status=r.data.status,t.$message.success("Successfully updated"));case 4:case"end":return n.stop()}}),n)})))()},getCategories:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("admin/product-category");case 2:e.categories=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},editCategory:function(e){this.name=e.name,this.categoryId=e.id,this.categoryForm=!0,this.editMode=!0},reset:function(){this.name="",this.loading=!1,this.categoryForm=!1,this.editMode=!1}},beforeMount:function(){this.getCategories()}},d=n(34),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-page-header",{attrs:{"sub-title":"Categories"}}),e._v(" "),n("a-row",[n("a-col",{attrs:{span:3}},[n("a-button",{attrs:{type:"primary"},on:{click:function(t){e.categoryForm=!0}}},[e._v("New Category")])],1)],1),e._v(" "),n("br"),e._v(" "),n("a-modal",{attrs:{visible:e.categoryForm},on:{click:function(t){e.categoryForm=!1}}},[n("template",{slot:"footer"},[n("a-button",{key:"back",on:{click:e.reset}},[e._v("Cancel")]),e._v(" "),n("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:e.createCategory}},[e._v("Submit")])],1),e._v(" "),n("a-input",{staticStyle:{"margin-top":"27px"},attrs:{placeholder:"Category name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],2),e._v(" "),e.categories?n("a-table",{attrs:{columns:e.columns,"data-source":e.categories,rowKey:function(e){return e.id},scroll:{x:1500,y:300},size:"small"},scopedSlots:e._u([{key:"action",fn:function(text){return n("span",{},[n("a-popconfirm",{attrs:{title:"Sure you want to "+(text.status?"disable":"enable")+" category?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(t){return e.disableEnableCategory(text)},cancel:function(t){e.visible=!1}}},[n("a",{attrs:{href:"#"}},[e._v(e._s(text.status?"Disable Category":"Enable Category"))])]),e._v(" "),text.status?n("a-button",{attrs:{type:"link"},on:{click:function(t){return e.editCategory(text)}}},[e._v("Edit")]):e._e()],1)}},{key:"status",fn:function(t){return n("span",{},[n("a-tag",{attrs:{color:t?"green":"volcano"}},[e._v(e._s(t?"Enabled":"Disabled"))])],1)}}],null,!1,949157151)}):e._e()],1)}),[],!1,null,"5c4bd159",null);t.default=component.exports},903:function(e,t,n){"use strict";var r=n(28),o=n(138).findIndex,c=n(305),d=n(96),l=!0,m=d("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){l=!1})),r({target:"Array",proto:!0,forced:l||!m},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")}}]);