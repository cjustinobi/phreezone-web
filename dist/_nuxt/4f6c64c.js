(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1075:function(t,e,n){"use strict";n.r(e);n(585),n(164),n(95);var r=n(27),o=n(901),c=[{title:"Bought By",dataIndex:"user",scopedSlots:{customRender:"user"}},{title:"Sold By",dataIndex:"stockist",scopedSlots:{customRender:"stockist"}},{title:"Item",dataIndex:"item"},{title:"Date",dataIndex:"created_at",scopedSlots:{customRender:"date"}},{title:"Amount",key:"amount",dataIndex:"amount",scopedSlots:{customRender:"amount"}}],l={name:"sales-list",layout:"dashboard",mixins:[o.a],data:function(){return{items:"",columns:c,week:"",userReferral:"",totalSales:"",dateFormat:"p d MMM, Y"}},methods:{getItems:function(){var t=this;setTimeout(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$post("user/boughtItems",{weekNumber:t.week});case 2:t.items=e.sent.data;case 3:case"end":return e.stop()}}),e)}))),3e3)},setWeek:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("date");case 2:t.week=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.setWeek(),this.getItems()},watch:{items:{handler:function(t){t.length?this.totalSales=t.reduce((function(t,e){return+t+ +e.amount}),0):this.totalSales=0},immediate:!0}}},m=n(34),component=Object(m.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-page-header",{attrs:{"sub-title":"List of Items Bought"}}),t._v(" "),n("div",{staticStyle:{background:"#ECECEC",padding:"30px","margin-bottom":"28px"}},[n("a-row",{attrs:{gutter:4}},[n("a-col",{attrs:{md:8,xs:24}},[n("a-card",[n("a-statistic",{staticStyle:{"margin-right":"50px"},attrs:{title:"Total Items bought for week "+t.week,value:t._f("currency")(t.totalSales),precision:2,"value-style":{color:"#3f8600"}}})],1)],1)],1)],1),t._v(" "),n("a-row",[n("a-col",{attrs:{span:"6"}},[n("a-input",{staticStyle:{width:"188px","margin-bottom":"8px"},attrs:{placeholder:"Enter week number",min:"1",type:"number"},on:{change:t.getItems},model:{value:t.week,callback:function(e){t.week=e},expression:"week"}})],1)],1),t._v(" "),t.items?n("a-table",{attrs:{columns:t.columns,"data-source":t.items,rowKey:function(t){return t.id},size:"small"},scopedSlots:t._u([{key:"user",fn:function(e){return n("span",{},[t._v("\n      "+t._s(e.full_name)),n("br"),t._v(" "),n("a-tag",{attrs:{color:"green"}},[t._v(t._s(e.referral))])],1)}},{key:"stockist",fn:function(e){return n("span",{},[t._v("\n      "+t._s(e.full_name)),n("br"),t._v(" "),n("a-tag",{attrs:{color:"green"}},[t._v(t._s(e.referral))])],1)}},{key:"date",fn:function(e){return n("span",{},[t._v(t._s(t.formatDate(e)))])}},{key:"ids",fn:function(e,r){return n("span",{},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.getItems(e)}}},[t._v("View")])])}}],null,!1,1397214215)}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},901:function(t,e,n){"use strict";var r=n(904),o=n.n(r);e.a={methods:{formatDate:function(t){var e="";return t&&(e=o()(new Date(t),this.dateFormat)),e},getTime:function(t){var e="";return t&&(e=o()(new Date(t),this.dateFormat2)),e}}}}}]);